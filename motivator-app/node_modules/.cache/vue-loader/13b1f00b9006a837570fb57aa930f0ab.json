{"remainingRequest":"/Users/oke228/Desktop/desktop/_dev_projects/motivator/motivator-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/oke228/Desktop/desktop/_dev_projects/motivator/motivator-app/src/components/Buckets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/oke228/Desktop/desktop/_dev_projects/motivator/motivator-app/src/components/Buckets.vue","mtime":1617065470748},{"path":"/Users/oke228/Desktop/desktop/_dev_projects/motivator/motivator-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oke228/Desktop/desktop/_dev_projects/motivator/motivator-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/oke228/Desktop/desktop/_dev_projects/motivator/motivator-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oke228/Desktop/desktop/_dev_projects/motivator/motivator-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBnc2FwIGZyb20gImdzYXAiOwppbXBvcnQgZHJhZ2dhYmxlIGZyb20gInZ1ZWRyYWdnYWJsZSI7CmltcG9ydCBCdWNrZXQgZnJvbSAiLi9CdWNrZXQudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQnVja2V0cyIsCiAgY29tcG9uZW50czogewogICAgQnVja2V0LAogICAgZHJhZ2dhYmxlLAogIH0sCiAgcHJvcHM6IHsKICAgIGJ1Y2tldHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFkZGVkOiBmYWxzZSwKICAgICAgZGVsZXRlZDogLTEsCiAgICAgIHNvcnRlZDogZmFsc2UsCiAgICAgIGVkaXRpbmc6IGZhbHNlLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBkcmFnT3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBhbmltYXRpb246IDEsCiAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZWRpdGluZywKICAgICAgfTsKICAgIH0sCiAgfSwKICB1cGRhdGVkKCkgewogICAgaWYgKCF0aGlzLnNvcnRlZCAmJiAhdGhpcy5lZGl0aW5nKSB7CiAgICAgIHRoaXMuZm9yY2VVcGRhdGVMaXN0cygpOwogICAgICB0aGlzLmFuaW1hdGVCdWNrZXRzKCk7CiAgICB9CiAgICB0aGlzLnNvcnRlZCA9IGZhbHNlOwogIH0sCiAgbWV0aG9kczogewogICAgZWRpdEJ1Y2tldDogZnVuY3Rpb24gKGVkaXRpbmcpIHsKICAgICAgdGhpcy5zb3J0ZWQgPSB0cnVlOwogICAgICB0aGlzLmVkaXRpbmcgPSBlZGl0aW5nOwogICAgfSwKICAgIGRlbGV0ZUJ1Y2tldDogZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgIHRoaXMuZGVsZXRlZCA9IGluZGV4OwogICAgICB0aGlzLiRlbWl0KCJkZWxldGVidWNrZXQiLCBpbmRleCk7CiAgICB9LAogICAgYnVja2V0U29ydGVkOiBmdW5jdGlvbiAoZGF0YSkgewogICAgICB0aGlzLmZvcmNlVXBkYXRlTGlzdHMoKTsKICAgICAgLy9hbmltYXRlIG1vdmVkIGl0ZW0gKHVzaW5nIENTUyBhbmltYXRpb24gaW5zdGVhZCkKICAgICAgZ3NhcC5mcm9tKCIuYnVja2V0LWNhcmQ6bnRoLW9mLXR5cGUoIiArIChkYXRhLm1vdmVkLm5ld0luZGV4ICsgMSkgKyAiKSIsIHsKICAgICAgICBzY2FsZTogMC45NSwKICAgICAgICBkdXJhdGlvbjogMC4yLAogICAgICAgIGNsZWFyUHJvcHM6InRyYW5zZm9ybSIKICAgICAgfSk7CiAgICB9LAogICAgYW5pbWF0ZUJ1Y2tldHM6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuYWRkZWQpIHsKICAgICAgICB0aGlzLmFkZGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy4kcmVmcy5idWNrZXRbdGhpcy5idWNrZXRzLmxlbmd0aCAtIDFdLmZvY3VzSW5wdXQoImNhcmR0aXRsZSIpOwogICAgICAgIGdzYXAuZnJvbSgiLmJ1Y2tldC1jYXJkOm50aC1sYXN0LW9mLXR5cGUoLW4rMikiLCB7CiAgICAgICAgICBzY2FsZTogMC45LAogICAgICAgICAgb3BhY2l0eTogMCwKICAgICAgICAgIGR1cmF0aW9uOiAwLjMsCiAgICAgICAgICBjbGVhclByb3BzOiJ0cmFuc2Zvcm0iLAogICAgICAgICAgc3RhZ2dlcjogewogICAgICAgICAgICBlYWNoOiAwLjEyLAogICAgICAgICAgICBlYXNlOiAicG93ZXI0Lk91dCIsCiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZGVsZXRlZCA+IC0xKSB7CiAgICAgICAgZ3NhcC5mcm9tKCIuYnVja2V0LWNhcmQ6bnRoLW9mLXR5cGUobisiICsgKHRoaXMuZGVsZXRlZCArIDEpICsgIikiLCB7CiAgICAgICAgICBzY2FsZTogMC45LAogICAgICAgICAgb3BhY2l0eTogMCwKICAgICAgICAgIGR1cmF0aW9uOiAwLjMsCiAgICAgICAgICBjbGVhclByb3BzOiJ0cmFuc2Zvcm0iLAogICAgICAgICAgc3RhZ2dlcjogewogICAgICAgICAgICBlYWNoOiAwLjEyLAogICAgICAgICAgICBlYXNlOiAicG93ZXI0Lk91dCIsCiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGVsZXRlZCA9IC0xOwogICAgICB9IGVsc2UgewogICAgICAgIGdzYXAuZnJvbSgiLmJ1Y2tldC1jYXJkIiwgewogICAgICAgICAgc2NhbGU6IDAuOSwKICAgICAgICAgIG9wYWNpdHk6IDAsCiAgICAgICAgICBkdXJhdGlvbjogMC4zLAogICAgICAgICAgY2xlYXJQcm9wczoidHJhbnNmb3JtIiwKICAgICAgICAgIHN0YWdnZXI6IHsKICAgICAgICAgICAgZWFjaDogMC4xMiwKICAgICAgICAgICAgZWFzZTogInBvd2VyNC5PdXQiLAogICAgICAgICAgfSwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGZvcmNlVXBkYXRlTGlzdHM6IGZ1bmN0aW9uICgpIHsKICAgICAgLy9mb3JjZSB1cGRhdGUgdGVheGFyZWFzIGFmdGVyIHNvcnRpbmcKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1Y2tldHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLiRyZWZzLmJ1Y2tldFtpXS5saXN0Q2FyZEl0ZW1zKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Buckets.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Buckets.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <h3>Buckets</h3>\n    <div class=\"buckets-list\">\n      <draggable\n        :list=\"buckets\"\n        v-bind=\"dragOptions\"\n        group=\"bucketlist\"\n        ghostClass=\"ghost\"\n        draggable=\".item\"\n        delay=\"100\"\n        @start=\"sorted = true\"\n        @change=\"bucketSorted\"\n      >\n        <bucket\n          class=\"item\"\n          v-for=\"(bucket, index) in buckets\"\n          :key=\"index\"\n          ref=\"bucket\"\n          v-bind:bucket=\"bucket\"\n          v-bind:bindex=\"index\"\n          v-on:deletebucket=\"deleteBucket\"\n          v-on:editbucket=\"editBucket\"\n        />\n        <div class=\"bucket-card\" slot=\"footer\">\n          <div class=\"add-card\">\n            <button\n              class=\"addbucket\"\n              @click=\"\n                added = true;\n                $emit('addbucket');\n              \"\n            >\n              <i class=\"icon-plus\"></i>\n            </button>\n          </div>\n        </div>\n      </draggable>\n    </div>\n  </div>\n</template>\n\n<script>\nimport gsap from \"gsap\";\nimport draggable from \"vuedraggable\";\nimport Bucket from \"./Bucket.vue\";\n\nexport default {\n  name: \"Buckets\",\n  components: {\n    Bucket,\n    draggable,\n  },\n  props: {\n    buckets: {\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      added: false,\n      deleted: -1,\n      sorted: false,\n      editing: false,\n    };\n  },\n  computed: {\n    dragOptions() {\n      return {\n        animation: 1,\n        disabled: this.editing,\n      };\n    },\n  },\n  updated() {\n    if (!this.sorted && !this.editing) {\n      this.forceUpdateLists();\n      this.animateBuckets();\n    }\n    this.sorted = false;\n  },\n  methods: {\n    editBucket: function (editing) {\n      this.sorted = true;\n      this.editing = editing;\n    },\n    deleteBucket: function (index) {\n      this.deleted = index;\n      this.$emit(\"deletebucket\", index);\n    },\n    bucketSorted: function (data) {\n      this.forceUpdateLists();\n      //animate moved item (using CSS animation instead)\n      gsap.from(\".bucket-card:nth-of-type(\" + (data.moved.newIndex + 1) + \")\", {\n        scale: 0.95,\n        duration: 0.2,\n        clearProps:\"transform\"\n      });\n    },\n    animateBuckets: function () {\n      if (this.added) {\n        this.added = false;\n        this.$refs.bucket[this.buckets.length - 1].focusInput(\"cardtitle\");\n        gsap.from(\".bucket-card:nth-last-of-type(-n+2)\", {\n          scale: 0.9,\n          opacity: 0,\n          duration: 0.3,\n          clearProps:\"transform\",\n          stagger: {\n            each: 0.12,\n            ease: \"power4.Out\",\n          },\n        });\n      } else if (this.deleted > -1) {\n        gsap.from(\".bucket-card:nth-of-type(n+\" + (this.deleted + 1) + \")\", {\n          scale: 0.9,\n          opacity: 0,\n          duration: 0.3,\n          clearProps:\"transform\",\n          stagger: {\n            each: 0.12,\n            ease: \"power4.Out\",\n          },\n        });\n        this.deleted = -1;\n      } else {\n        gsap.from(\".bucket-card\", {\n          scale: 0.9,\n          opacity: 0,\n          duration: 0.3,\n          clearProps:\"transform\",\n          stagger: {\n            each: 0.12,\n            ease: \"power4.Out\",\n          },\n        });\n      }\n    },\n    forceUpdateLists: function () {\n      //force update teaxareas after sorting\n      for (var i = 0; i < this.buckets.length; i++) {\n        this.$refs.bucket[i].listCardItems();\n      }\n    },\n  },\n};\n</script>"]}]}