!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.FocusOutside={})}(this,function(e){"use strict";var t=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,u=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw u}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=[],r=new function(){var e=[];function t(t){for(var n=0;n<e.length;n++)if(e[n][0]===t)return{index:n,value:e[n][1],key:t}}return{get:function(e){var n=t(e);return n&&n.value},set:function(n,r){var i=t(n);return i?e[i.index][1]=r:(e.push([n,r]),this.size++),this},has:function(e){return!!t(e)},size:0,clear:function(){e=[],this.size=0},values:function(){return e.map(function(e){return e[1]})},entries:function(){return e},delete:function(n){var r=t(n);return!!r&&(e.splice(r.index,1),this.size--,!0)}}};function i(e){return n.find(function(t){return t.contains(e)||t===e})}function u(e){var t=i(e.target);if(t){var n=a(r.entries(),t)||{},u=n.el,o=n.nodeList;u&&clearTimeout(o.timerId)}}function o(e){var t=i(e.target);if(t){var n=a(r.entries(),t)||{},u=n.el,o=n.key,f=n.nodeList;u&&(f.timerId=setTimeout(o,10))}}function a(e,n){for(var r=0;r<e.length;r++){var i=t(e[r],2),u=i[0],o=i[1],a=o.find(function(e){return e.node===n});if(a)return{key:u,nodeList:o,el:a}}}e.bind=function(e,t){n.indexOf(e)<0&&n.push(e),r.has(t)?r.get(t).push({node:e,oldTabIndex:e.getAttribute("tabindex")}):r.set(t,[{node:e,oldTabIndex:e.getAttribute("tabindex")}]),function(e){return isNaN(parseInt(e.getAttribute("tabindex")))}(e)&&function(e){e.setAttribute("tabindex",-1)}(e),e.addEventListener("focusin",u),e.addEventListener("focusout",o)},e.unbind=function(e){var t=a(r.entries(),e)||{},n=t.el,i=t.key,f=t.nodeList;if(n){var s=n.node,d=n.oldTabIndex;d?s.setAttribute("tabindex",d):s.removeAttribute("tabindex"),s.removeEventListener("focusin",u),s.removeEventListener("focusout",o);var c=f.indexOf(n);f.splice(c,1),f.length||r.delete(i)}},Object.defineProperty(e,"__esModule",{value:!0})});
